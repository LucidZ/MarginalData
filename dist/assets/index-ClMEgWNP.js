import{r as f,j as t}from"./index-Dts3KoaT.js";import{a as x,b as j,u}from"./transform-CpLVCWXJ.js";import{c as F,l as N,a as S,t as T,b as _,e as D}from"./natural-DdaVZ8FR.js";import{f as E,l as C,m as L}from"./linear-DiM-0B3F.js";import"./path-CbwjOpE9.js";const M=x(null),y=x(0),P=x(!1),A=x(!1),$="/data/Federal Employment Data.csv",R=()=>{const[e,n]=j(M);return f.useEffect(()=>{F($,a=>(a.timestamp=new Date(a.Month),a.TotalNonFarm=+a.TotalNonFarm*1e3,a.Federal=+a.Federal*1e3,a)).then(a=>{n(a)})},[]),console.log(e),e},W=({xScale:e,innerHeight:n,tickFormat:o,tickOffset:a=3})=>e.ticks().map(s=>t.jsxs("g",{className:"tick no-select",transform:`translate(${e(s)},0)`,children:[t.jsx("line",{y2:n}),t.jsx("text",{style:{textAnchor:"middle"},dy:".71em",y:n+a,children:o(s)})]},s)),H=({yScale:e,innerWidth:n,tickFormat:o,tickOffset:a=3})=>e.ticks().map(s=>t.jsxs("g",{className:"tick no-select",transform:`translate(0,${e(s)})`,children:[t.jsx("line",{x2:n}),t.jsx("text",{style:{textAnchor:"end"},x:-a,dy:".32em",children:o(s)},s)]})),O=({data:e,xScale:n,yScale:o,xValue:a,yValue:s,tooltipFormat:r,circleRadius:l})=>{const c=N().x(i=>n(a(i))).y(i=>o(s(i))).curve(S);return t.jsx("g",{className:"marks",children:t.jsx("path",{fill:"none",stroke:"black",strokeWidth:"4",d:c(e)})})},B=({children:e,width:n,height:o,centerX:a,centerY:s,isDraggable:r})=>t.jsx("svg",{width:n,height:o,style:{maxWidth:"100%",height:"auto",display:"block"},viewBox:`0 0 ${n} ${o}`,preserveAspectRatio:"xMidYMid meet",children:t.jsx("g",{transform:`translate(${a}, ${s})`,children:e})}),Y=()=>{const e=u(y);return t.jsxs("h2",{children:["Since 1960, US Federal Employment as a % of the Labor Force has been"," ",t.jsx("span",{style:{color:"green",textDecoration:"underline"},children:e||"____________"}),"?"]})},G=()=>{const[e,n]=j(A),o=u(P),s=o?e?"submitted":"ready":"idle",r={idle:{text:"Select a region below first.",className:"",onClick:()=>{}},ready:{text:"Click to submit guess!",className:"pulse-element",onClick:()=>n(!0)},submitted:{text:"Guess submitted!",className:"",onClick:()=>{}}};return t.jsx("div",{children:s!=="submitted"&&t.jsx("button",{className:r[s].className,onClick:r[s].onClick,children:r[s].text})})},I=()=>{const n=u(y)==="Generally Decreasing"?"That's right! ":"I too was surprised to learn that:";return t.jsxs(t.Fragment,{children:[t.jsx("h2",{children:n}),t.jsx("h2",{children:"Since the 1960s, the number of federal employees has been declining relative to overall employment."}),t.jsxs("p",{children:[" ","The source of this data is the US Bureau of Labor Statistics as served by FRED:"]}),t.jsx("p",{children:t.jsx("a",{href:"https://fred.stlouisfed.org/series/PAYEMS",target:"_blank",children:"Total Nonfarm Payroll Employment"})}),t.jsx("p",{children:t.jsx("a",{href:"https://fred.stlouisfed.org/series/CES9091000001",target:"_blank",children:"Total Federal Payroll Employment"})})]})},U=()=>{const[e,n]=f.useState({width:960,height:500});return f.useEffect(()=>{const o=()=>{const s=window.innerWidth-40,r=window.innerHeight*.6,l=960,c=500,i=300,m=Math.min(s,l),d=Math.max(Math.min(r,c),i);n({width:m,height:d})};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),e},z=e=>{const n=e<768;return{top:20,right:n?20:30,bottom:n?50:65,left:n?60:90}},Q=252,V=()=>{const e=R(),n=u(A),{width:o,height:a}=U(),s=z(o),r=o<768?40:50,l=o<768?35:45;if(!e)return t.jsx("pre",{children:"Data is Loading..."});const c=a-s.top-s.bottom,i=o-s.left-s.right,m=h=>h.timestamp,d=T("%Y"),v="Time",g=h=>h.Federal/h.TotalNonFarm,k=E(".0%"),w="Percent",p=_().domain(D(e,m)).range([0,i]).nice(),b=C().domain([0,L(e,g)+.01]).range([c,0]).nice();return e[Q-1],t.jsxs("div",{className:"container",children:[t.jsx(Y,{}),t.jsxs(B,{width:o,height:a,centerX:s.left,centerY:s.top,isDraggable:!0,children:[t.jsx(W,{xScale:p,innerHeight:c,tickFormat:d,tickOffset:7}),t.jsx("text",{className:"axis-label no-select",textAnchor:"middle",transform:`translate(${-l},${c/2}) rotate(-90)`,children:w}),t.jsx(H,{yScale:b,innerWidth:i,tickFormat:k,tickOffset:7}),t.jsx("text",{className:"axis-label no-select",x:i/2,y:c+r,textAnchor:"middle",children:v}),t.jsx(O,{data:e,xScale:p,yScale:b,xValue:m,yValue:g,tooltipFormat:d,circleRadius:3})]}),n?t.jsx(I,{}):t.jsx(G,{})]})};export{V as default};
