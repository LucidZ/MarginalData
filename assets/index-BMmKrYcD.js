import{j as o,r as D}from"./index-DjYihzQ-.js";import{a as de,u as X,b as he}from"./react-D61Yekqn.js";import"./transform-BRg4-7h8.js";import{w as ge,c as z}from"./path-CbwjOpE9.js";import"./string-CrOI-eyg.js";const O=de(null),oe=de(!1),me=()=>{const e=X(O);return o.jsxs("h3",{children:["Your guess is ",Math.round(e*100),"% "]})},pe=({radius:e,strokeWidth:r})=>o.jsx("circle",{r:e,fill:"white",stroke:"#d4af37",strokeWidth:r}),xe=(e={})=>{const{trackOutsideElement:r=!0,onDragStart:g,onDragMove:a,onDragEnd:h}=e,c=D.useRef(null),[p,s]=D.useState(!1),[y,u]=D.useState({width:0,height:0}),[n,j]=D.useState({page:{x:0,y:0},element:{x:0,y:0},elementOffset:{x:0,y:0}}),i=D.useCallback(()=>{if(c.current){const f=c.current.getBoundingClientRect();u({width:f.width,height:f.height})}},[]);D.useEffect(()=>{i();const f=()=>{i()};return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[i]);const l=D.useCallback(f=>{let x,b;if(f.touches){const A=f.touches[0];x=A.clientX,b=A.clientY}else x=f.clientX,b=f.clientY;let R=0,E=0,I=0,F=0;if(c.current){const A=c.current.getBoundingClientRect();R=x-A.left,E=b-A.top,I=A.left,F=A.top}return{page:{x,y:b},element:{x:R,y:E},elementOffset:{x:I,y:F}}},[]),w=D.useCallback(f=>{const x=l(f);j(x),s(!0),g&&g({...x,dimensions:y})},[l,g,y]),v=D.useCallback(f=>{if(!p)return;const x=l(f);j(x),a&&a({...x,dimensions:y})},[p,l,a,y]),S=D.useCallback(f=>{p&&(s(!1),h&&h({...n,dimensions:y}))},[p,n,h,y]);D.useEffect(()=>{if(p&&r)return window.addEventListener("mousemove",v),window.addEventListener("touchmove",v),window.addEventListener("mouseup",S),window.addEventListener("touchend",S),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("touchmove",v),window.removeEventListener("mouseup",S),window.removeEventListener("touchend",S)}},[p,r,v,S]);const m={onMouseDown:w,onTouchStart:w,ref:c};return r||(m.onMouseMove=v,m.onTouchMove=v,m.onMouseUp=S,m.onTouchEnd=S),{isDragging:p,position:n,dimensions:y,elementRef:c,eventHandlers:m}},ve=(e,r)=>{let a=Math.atan2(r,e)+Math.PI/2;return a<0&&(a+=2*Math.PI),a/=2*Math.PI,a=Math.round(a*1e3)/1e3,a},ye=()=>{const e=X(O);if(e!==null)return null;if(e===null)return o.jsxs("text",{className:"no-select",x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",children:["Click and drag in this circle"," "]})},we=({children:e,width:r,height:g,centerX:a,centerY:h,isDraggable:c})=>{const[p,s]=he(O),[y,u]=D.useState(null),{position:n,dimensions:j,eventHandlers:i}=xe({onDragMove:l=>{u(l);const w=ve(n.element.x-j.width/2,n.element.y-j.height/2);s(w),console.log(p)}});return o.jsxs("svg",{style:{touchAction:"none"},width:r,height:g,...c?i:{},children:[o.jsx("g",{transform:`translate(${a}, ${h})`,children:e}),c&&o.jsx(ye,{})]})},ue=Math.abs,M=Math.atan2,U=Math.cos,je=Math.max,re=Math.min,L=Math.sin,B=Math.sqrt,P=1e-12,H=Math.PI,Z=H/2,be=2*H;function Ae(e){return e>1?0:e<-1?H:Math.acos(e)}function le(e){return e>=1?Z:e<=-1?-Z:Math.asin(e)}function Me(e){return e.innerRadius}function Se(e){return e.outerRadius}function Pe(e){return e.startAngle}function De(e){return e.endAngle}function Re(e){return e&&e.padAngle}function Ee(e,r,g,a,h,c,p,s){var y=g-e,u=a-r,n=p-h,j=s-c,i=j*y-n*u;if(!(i*i<P))return i=(n*(r-c)-j*(e-h))/i,[e+i*y,r+i*u]}function Q(e,r,g,a,h,c,p){var s=e-g,y=r-a,u=(p?c:-c)/B(s*s+y*y),n=u*y,j=-u*s,i=e+n,l=r+j,w=g+n,v=a+j,S=(i+w)/2,m=(l+v)/2,f=w-i,x=v-l,b=f*f+x*x,R=h-c,E=i*v-w*l,I=(x<0?-1:1)*B(je(0,R*R*b-E*E)),F=(E*x-f*I)/b,A=(-E*f-x*I)/b,T=(E*x+f*I)/b,k=(-E*f+x*I)/b,C=F-S,t=A-m,d=T-S,G=k-m;return C*C+t*t>d*d+G*G&&(F=T,A=k),{cx:F,cy:A,x01:-n,y01:-j,x11:F*(h/R-1),y11:A*(h/R-1)}}function ke(){var e=Me,r=Se,g=z(0),a=null,h=Pe,c=De,p=Re,s=null,y=ge(u);function u(){var n,j,i=+e.apply(this,arguments),l=+r.apply(this,arguments),w=h.apply(this,arguments)-Z,v=c.apply(this,arguments)-Z,S=ue(v-w),m=v>w;if(s||(s=n=y()),l<i&&(j=l,l=i,i=j),!(l>P))s.moveTo(0,0);else if(S>be-P)s.moveTo(l*U(w),l*L(w)),s.arc(0,0,l,w,v,!m),i>P&&(s.moveTo(i*U(v),i*L(v)),s.arc(0,0,i,v,w,m));else{var f=w,x=v,b=w,R=v,E=S,I=S,F=p.apply(this,arguments)/2,A=F>P&&(a?+a.apply(this,arguments):B(i*i+l*l)),T=re(ue(l-i)/2,+g.apply(this,arguments)),k=T,C=T,t,d;if(A>P){var G=le(A/i*L(F)),$=le(A/l*L(F));(E-=G*2)>P?(G*=m?1:-1,b+=G,R-=G):(E=0,b=R=(w+v)/2),(I-=$*2)>P?($*=m?1:-1,f+=$,x-=$):(I=0,f=x=(w+v)/2)}var W=l*U(f),N=l*L(f),q=i*U(R),J=i*L(R);if(T>P){var V=l*U(x),K=l*L(x),_=i*U(b),ee=i*L(b),Y;if(S<H)if(Y=Ee(W,N,_,ee,V,K,q,J)){var ne=W-Y[0],te=N-Y[1],se=V-Y[0],ie=K-Y[1],ae=1/L(Ae((ne*se+te*ie)/(B(ne*ne+te*te)*B(se*se+ie*ie)))/2),ce=B(Y[0]*Y[0]+Y[1]*Y[1]);k=re(T,(i-ce)/(ae-1)),C=re(T,(l-ce)/(ae+1))}else k=C=0}I>P?C>P?(t=Q(_,ee,W,N,l,C,m),d=Q(V,K,q,J,l,C,m),s.moveTo(t.cx+t.x01,t.cy+t.y01),C<T?s.arc(t.cx,t.cy,C,M(t.y01,t.x01),M(d.y01,d.x01),!m):(s.arc(t.cx,t.cy,C,M(t.y01,t.x01),M(t.y11,t.x11),!m),s.arc(0,0,l,M(t.cy+t.y11,t.cx+t.x11),M(d.cy+d.y11,d.cx+d.x11),!m),s.arc(d.cx,d.cy,C,M(d.y11,d.x11),M(d.y01,d.x01),!m))):(s.moveTo(W,N),s.arc(0,0,l,f,x,!m)):s.moveTo(W,N),!(i>P)||!(E>P)?s.lineTo(q,J):k>P?(t=Q(q,J,V,K,i,-k,m),d=Q(W,N,_,ee,i,-k,m),s.lineTo(t.cx+t.x01,t.cy+t.y01),k<T?s.arc(t.cx,t.cy,k,M(t.y01,t.x01),M(d.y01,d.x01),!m):(s.arc(t.cx,t.cy,k,M(t.y01,t.x01),M(t.y11,t.x11),!m),s.arc(0,0,i,M(t.cy+t.y11,t.cx+t.x11),M(d.cy+d.y11,d.cx+d.x11),m),s.arc(d.cx,d.cy,k,M(d.y11,d.x11),M(d.y01,d.x01),!m))):s.arc(0,0,i,R,b,m)}if(s.closePath(),n)return s=null,n+""||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,j=(+h.apply(this,arguments)+ +c.apply(this,arguments))/2-H/2;return[U(j)*n,L(j)*n]},u.innerRadius=function(n){return arguments.length?(e=typeof n=="function"?n:z(+n),u):e},u.outerRadius=function(n){return arguments.length?(r=typeof n=="function"?n:z(+n),u):r},u.cornerRadius=function(n){return arguments.length?(g=typeof n=="function"?n:z(+n),u):g},u.padRadius=function(n){return arguments.length?(a=n==null?null:typeof n=="function"?n:z(+n),u):a},u.startAngle=function(n){return arguments.length?(h=typeof n=="function"?n:z(+n),u):h},u.endAngle=function(n){return arguments.length?(c=typeof n=="function"?n:z(+n),u):c},u.padAngle=function(n){return arguments.length?(p=typeof n=="function"?n:z(+n),u):p},u.context=function(n){return arguments.length?(s=n??null,u):s},u}const Ce=({radius:e,startPercent:r,endPercent:g,isDraggable:a})=>{const h=X(O),c=ke().innerRadius(0).outerRadius(e).startAngle(Math.PI*2*r);return a?c.endAngle(Math.PI*2*h):c.endAngle(Math.PI*2*g),o.jsx("path",{d:c(),fill:"#2d7d4c"})},fe=({width:e,height:r,centerX:g,centerY:a,strokeWidth:h,endPercent:c,isDraggable:p})=>o.jsxs(we,{width:e,height:r,centerX:g,centerY:a,isDraggable:p,children:[o.jsx(pe,{radius:a-h/2,strokeWidth:h}),o.jsx(Ce,{radius:a-h,startPercent:0,isDraggable:p,endPercent:c})]}),Ie=()=>{const e=[{id:1,source:"Congressional Research Service",title:"U.S. Agency for International Development: An Overview",url:"https://crsreports.congress.gov/product/pdf/IF/IF10261",publicationDate:"January 6, 2025",accessDate:"February 26, 2025"},{id:2,source:"Pew Research Center",title:"What the data says about U.S. foreign aid",url:"https://www.pewresearch.org/short-reads/2025/02/06/what-the-data-says-about-us-foreign-aid/#how-big-is-foreign-aid-as-a-share-of-the-entire-federal-budget",publicationDate:"February 6, 2025",accessDate:"February 26, 2025"},{id:3,source:"Kaiser Family Foundation",title:"Americans' Views on the U.S. Role in Global Health",url:"https://www.kff.org/global-health-policy/poll-finding/americans-views-on-the-u-s-role-in-global-health/",publicationDate:"January 20, 2016",accessDate:"February 26, 2025"}];return o.jsxs("footer",{className:"sources-section",children:[o.jsx("h2",{children:"Sources"}),o.jsx("ul",{className:"sources-list",children:e.map(r=>o.jsx("li",{className:"source-item",children:o.jsxs("p",{children:[o.jsx("span",{className:"source-title",children:r.title}),". Retrieved from"," ",o.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",children:r.url})," ","(Accessed: ",r.accessDate,")"]})},r.id))})]})},Fe=()=>{const e=X(O);if(e<.02)return o.jsx("div",{children:o.jsxs("h3",{children:[" ","Well done! You're in the ballpark! 97% of Americans in a 2016 survey, overestimated the size of foreign aid."]})});if(e>.01)return o.jsx("div",{children:o.jsxs("h3",{children:[" ","You, like myself and 97% of Americans in a 2016 survey, overestimated the size of foreign aid."]})})},Te=()=>{const e=X(oe);if(e===!1)return null;if(e===!0)return o.jsxs(o.Fragment,{children:[o.jsx(Fe,{}),o.jsx(fe,{width:300,height:300,centerX:150,centerY:150,strokeWidth:10,isDraggable:!1,endPercent:.006}),o.jsxs("h2",{children:["In 2023, USAID managed $40 billion representing 0.6% of US federal expenditures."," "]}),o.jsxs("p",{children:[" ","Combined with spending from other departments, the federal government spent around 1% of its budget on foreign aid in 2023."]}),o.jsx(Ie,{})]})},Le=()=>{const e=X(O),[r,g]=he(oe),a=()=>{g(!0)};if(r||e===null)return null;if(e!==null)return o.jsx("div",{children:o.jsx("button",{onClick:a,children:" Click to Reveal Answer "})})},Ye=()=>{const[e,r]=D.useState({width:300,height:300,centerX:150,centerY:150,strokeWidth:10});return D.useEffect(()=>{const g=()=>{const h=window.innerWidth-40,c=window.innerHeight*.4,p=h<768,s=300,y=200,u=Math.min(h,c),n=Math.max(Math.min(u,s),y);r({width:n,height:n,centerX:n/2,centerY:n/2,strokeWidth:p?8:10})};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),e},We=()=>{const e=X(oe),r=X(O),{width:g,height:a,centerX:h,centerY:c,strokeWidth:p}=Ye();return o.jsxs("div",{className:"container",children:[o.jsx("h2",{children:"What % of US federal government spending was managed by USAID in 2023?"}),o.jsx(me,{}),o.jsx(fe,{width:g,height:a,centerX:h,centerY:c,strokeWidth:p,isDraggable:!e,endPercent:r}),o.jsx(Le,{}),o.jsx(Te,{})]})};export{We as default};
