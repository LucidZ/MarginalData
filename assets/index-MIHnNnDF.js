import{j as i,r as k}from"./index-hc7qzOw9.js";import{a as de,u as U,b as fe}from"./transform-C8bpREox.js";import{w as ge,c as G}from"./path-CbwjOpE9.js";const N=de(null),oe=de(!1),me=()=>{const e=U(N);return i.jsxs("h3",{children:["Your guess is ",Math.round(e*100),"% "]})},pe=({radius:e,strokeWidth:o})=>i.jsx("circle",{r:e,fill:"white",stroke:"#d4af37",strokeWidth:o}),xe=(e,o)=>{let u=Math.atan2(o,e)+Math.PI/2;return u<0&&(u+=2*Math.PI),u/=2*Math.PI,u=Math.round(u*1e3)/1e3,u},ve=(e={})=>{const{trackOutsideElement:o=!0,onDragStart:x,onDragMove:u,onDragEnd:m}=e,f=k.useRef(null),[v,r]=k.useState(!1),[j,l]=k.useState({width:0,height:0}),[n,w]=k.useState({page:{x:0,y:0},element:{x:0,y:0},elementOffset:{x:0,y:0}}),s=k.useCallback(()=>{if(f.current){const d=f.current.getBoundingClientRect();l({width:d.width,height:d.height})}},[]);k.useEffect(()=>{s();const d=()=>{s()};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[s]);const a=k.useCallback(d=>{let g,b;if(d.touches){const A=d.touches[0];g=A.clientX,b=A.clientY}else g=d.clientX,b=d.clientY;let P=0,D=0,I=0,F=0;if(f.current){const A=f.current.getBoundingClientRect();P=g-A.left,D=b-A.top,I=A.left,F=A.top}return{page:{x:g,y:b},element:{x:P,y:D},elementOffset:{x:I,y:F}}},[]),y=k.useCallback(d=>{const g=a(d);w(g),r(!0),x&&x({...g,dimensions:j})},[a,x,j]),p=k.useCallback(d=>{if(!v)return;const g=a(d);w(g),u&&u({...g,dimensions:j})},[v,a,u,j]),R=k.useCallback(d=>{v&&(r(!1),m&&m({...n,dimensions:j}))},[v,n,m,j]);k.useEffect(()=>{if(v&&o)return window.addEventListener("mousemove",p),window.addEventListener("touchmove",p),window.addEventListener("mouseup",R),window.addEventListener("touchend",R),()=>{window.removeEventListener("mousemove",p),window.removeEventListener("touchmove",p),window.removeEventListener("mouseup",R),window.removeEventListener("touchend",R)}},[v,o,p,R]);const h={onMouseDown:y,onTouchStart:y,ref:f};return o||(h.onMouseMove=p,h.onTouchMove=p,h.onMouseUp=R,h.onTouchEnd=R),{isDragging:v,position:n,dimensions:j,elementRef:f,eventHandlers:h}},ye=()=>{const e=U(N);if(e!==null)return null;if(e===null)return i.jsxs("text",{className:"no-select",x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",children:["Click and drag in this circle"," "]})},we=({children:e,width:o,height:x,centerX:u,centerY:m,isDraggable:f})=>{const[v,r]=fe(N),[j,l]=k.useState(null),{position:n,dimensions:w,eventHandlers:s}=ve({onDragMove:a=>{l(a);const y=xe(n.element.x-w.width/2,n.element.y-w.height/2);r(y),console.log(v)}});return i.jsxs("svg",{width:o,height:x,...f?s:{},children:[i.jsx("g",{transform:`translate(${u}, ${m})`,children:e}),f&&i.jsx(ye,{})]})},le=Math.abs,M=Math.atan2,O=Math.cos,je=Math.max,ie=Math.min,L=Math.sin,H=Math.sqrt,S=1e-12,W=Math.PI,Z=W/2,be=2*W;function Ae(e){return e>1?0:e<-1?W:Math.acos(e)}function ce(e){return e>=1?Z:e<=-1?-Z:Math.asin(e)}function Me(e){return e.innerRadius}function Re(e){return e.outerRadius}function Se(e){return e.startAngle}function Pe(e){return e.endAngle}function De(e){return e&&e.padAngle}function Ee(e,o,x,u,m,f,v,r){var j=x-e,l=u-o,n=v-m,w=r-f,s=w*j-n*l;if(!(s*s<S))return s=(n*(o-f)-w*(e-m))/s,[e+s*j,o+s*l]}function Q(e,o,x,u,m,f,v){var r=e-x,j=o-u,l=(v?f:-f)/H(r*r+j*j),n=l*j,w=-l*r,s=e+n,a=o+w,y=x+n,p=u+w,R=(s+y)/2,h=(a+p)/2,d=y-s,g=p-a,b=d*d+g*g,P=m-f,D=s*p-y*a,I=(g<0?-1:1)*H(je(0,P*P*b-D*D)),F=(D*g-d*I)/b,A=(-D*d-g*I)/b,T=(D*g+d*I)/b,E=(-D*d+g*I)/b,C=F-R,t=A-h,c=T-R,X=E-h;return C*C+t*t>c*c+X*X&&(F=T,A=E),{cx:F,cy:A,x01:-n,y01:-w,x11:F*(m/P-1),y11:A*(m/P-1)}}function Ce(){var e=Me,o=Re,x=G(0),u=null,m=Se,f=Pe,v=De,r=null,j=ge(l);function l(){var n,w,s=+e.apply(this,arguments),a=+o.apply(this,arguments),y=m.apply(this,arguments)-Z,p=f.apply(this,arguments)-Z,R=le(p-y),h=p>y;if(r||(r=n=j()),a<s&&(w=a,a=s,s=w),!(a>S))r.moveTo(0,0);else if(R>be-S)r.moveTo(a*O(y),a*L(y)),r.arc(0,0,a,y,p,!h),s>S&&(r.moveTo(s*O(p),s*L(p)),r.arc(0,0,s,p,y,h));else{var d=y,g=p,b=y,P=p,D=R,I=R,F=v.apply(this,arguments)/2,A=F>S&&(u?+u.apply(this,arguments):H(s*s+a*a)),T=ie(le(a-s)/2,+x.apply(this,arguments)),E=T,C=T,t,c;if(A>S){var X=ce(A/s*L(F)),$=ce(A/a*L(F));(D-=X*2)>S?(X*=h?1:-1,b+=X,P-=X):(D=0,b=P=(y+p)/2),(I-=$*2)>S?($*=h?1:-1,d+=$,g-=$):(I=0,d=g=(y+p)/2)}var z=a*O(d),B=a*L(d),q=s*O(P),J=s*L(P);if(T>S){var V=a*O(g),K=a*L(g),_=s*O(b),ee=s*L(b),Y;if(R<W)if(Y=Ee(z,B,_,ee,V,K,q,J)){var ne=z-Y[0],te=B-Y[1],se=V-Y[0],re=K-Y[1],ae=1/L(Ae((ne*se+te*re)/(H(ne*ne+te*te)*H(se*se+re*re)))/2),ue=H(Y[0]*Y[0]+Y[1]*Y[1]);E=ie(T,(s-ue)/(ae-1)),C=ie(T,(a-ue)/(ae+1))}else E=C=0}I>S?C>S?(t=Q(_,ee,z,B,a,C,h),c=Q(V,K,q,J,a,C,h),r.moveTo(t.cx+t.x01,t.cy+t.y01),C<T?r.arc(t.cx,t.cy,C,M(t.y01,t.x01),M(c.y01,c.x01),!h):(r.arc(t.cx,t.cy,C,M(t.y01,t.x01),M(t.y11,t.x11),!h),r.arc(0,0,a,M(t.cy+t.y11,t.cx+t.x11),M(c.cy+c.y11,c.cx+c.x11),!h),r.arc(c.cx,c.cy,C,M(c.y11,c.x11),M(c.y01,c.x01),!h))):(r.moveTo(z,B),r.arc(0,0,a,d,g,!h)):r.moveTo(z,B),!(s>S)||!(D>S)?r.lineTo(q,J):E>S?(t=Q(q,J,V,K,s,-E,h),c=Q(z,B,_,ee,s,-E,h),r.lineTo(t.cx+t.x01,t.cy+t.y01),E<T?r.arc(t.cx,t.cy,E,M(t.y01,t.x01),M(c.y01,c.x01),!h):(r.arc(t.cx,t.cy,E,M(t.y01,t.x01),M(t.y11,t.x11),!h),r.arc(0,0,s,M(t.cy+t.y11,t.cx+t.x11),M(c.cy+c.y11,c.cx+c.x11),h),r.arc(c.cx,c.cy,E,M(c.y11,c.x11),M(c.y01,c.x01),!h))):r.arc(0,0,s,P,b,h)}if(r.closePath(),n)return r=null,n+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +o.apply(this,arguments))/2,w=(+m.apply(this,arguments)+ +f.apply(this,arguments))/2-W/2;return[O(w)*n,L(w)*n]},l.innerRadius=function(n){return arguments.length?(e=typeof n=="function"?n:G(+n),l):e},l.outerRadius=function(n){return arguments.length?(o=typeof n=="function"?n:G(+n),l):o},l.cornerRadius=function(n){return arguments.length?(x=typeof n=="function"?n:G(+n),l):x},l.padRadius=function(n){return arguments.length?(u=n==null?null:typeof n=="function"?n:G(+n),l):u},l.startAngle=function(n){return arguments.length?(m=typeof n=="function"?n:G(+n),l):m},l.endAngle=function(n){return arguments.length?(f=typeof n=="function"?n:G(+n),l):f},l.padAngle=function(n){return arguments.length?(v=typeof n=="function"?n:G(+n),l):v},l.context=function(n){return arguments.length?(r=n??null,l):r},l}const ke=({radius:e,startPercent:o,endPercent:x,isDraggable:u})=>{const m=U(N),f=Ce().innerRadius(0).outerRadius(e).startAngle(Math.PI*2*o);return u?f.endAngle(Math.PI*2*m):f.endAngle(Math.PI*2*x),i.jsx("path",{d:f(),fill:"#2d7d4c"})},he=({width:e,height:o,centerX:x,centerY:u,strokeWidth:m,endPercent:f,isDraggable:v})=>i.jsxs(we,{width:e,height:o,centerX:x,centerY:u,isDraggable:v,children:[i.jsx(pe,{radius:u-m/2,strokeWidth:m}),i.jsx(ke,{radius:u-m,startPercent:0,isDraggable:v,endPercent:f})]}),Ie=()=>{const e=[{id:1,source:"Congressional Research Service",title:"U.S. Agency for International Development: An Overview",url:"https://crsreports.congress.gov/product/pdf/IF/IF10261",publicationDate:"January 6, 2025",accessDate:"February 26, 2025"},{id:2,source:"Pew Research Center",title:"What the data says about U.S. foreign aid",url:"https://www.pewresearch.org/short-reads/2025/02/06/what-the-data-says-about-us-foreign-aid/#how-big-is-foreign-aid-as-a-share-of-the-entire-federal-budget",publicationDate:"February 6, 2025",accessDate:"February 26, 2025"},{id:3,source:"Kaiser Family Foundation",title:"Americans' Views on the U.S. Role in Global Health",url:"https://www.kff.org/global-health-policy/poll-finding/americans-views-on-the-u-s-role-in-global-health/",publicationDate:"January 20, 2016",accessDate:"February 26, 2025"}];return i.jsxs("footer",{className:"sources-section",children:[i.jsx("h2",{children:"Sources"}),i.jsx("ul",{className:"sources-list",children:e.map(o=>i.jsx("li",{className:"source-item",children:i.jsxs("p",{children:[i.jsx("span",{className:"source-title",children:o.title}),". Retrieved from"," ",i.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.url})," ","(Accessed: ",o.accessDate,")"]})},o.id))})]})},Fe=()=>{const e=U(N);if(e<.02)return i.jsx("div",{children:i.jsxs("h3",{children:[" ","Well done! You're in the ballpark! 97% of Americans in a 2016 survey, overestimated the size of foreign aid."]})});if(e>.01)return i.jsx("div",{children:i.jsxs("h3",{children:[" ","You, like myself and 97% of Americans in a 2016 survey, overestimated the size of foreign aid."]})})},Te=()=>{const e=U(oe);if(e===!1)return null;if(e===!0)return i.jsxs(i.Fragment,{children:[i.jsx(Fe,{}),i.jsx(he,{width:300,height:300,centerX:150,centerY:150,strokeWidth:10,isDraggable:!1,endPercent:.006}),i.jsxs("h2",{children:["In 2023, USAID managed $40 billion representing 0.6% of US federal expenditures."," "]}),i.jsxs("p",{children:[" ","Combined with spending from other departments, the federal government spent around 1% of its budget on foreign aid in 2023."]}),i.jsx(Ie,{})]})},Le=()=>{const e=U(N),[o,x]=fe(oe),u=()=>{x(!0)};if(o||e===null)return null;if(e!==null)return i.jsx("div",{children:i.jsx("button",{onClick:u,children:" Click to Reveal Answer "})})},Xe=()=>{const e=U(oe),o=U(N);return i.jsxs("div",{className:"app-container",children:[i.jsx("h2",{children:"What % of US federal government spending was managed by USAID in 2023?"}),i.jsx(me,{}),i.jsx(he,{width:300,height:300,centerX:150,centerY:150,strokeWidth:10,isDraggable:!e,endPercent:o}),i.jsx(Le,{}),i.jsx(Te,{})]})};export{Xe as default};
