import{r as a,j as e}from"./index-B9rqXie6.js";import{g as te,a as le,b as ne,c as ce,d as re,e as oe}from"./api-Mya8XPJM.js";function he(){const[d,k]=a.useState([]),[v,U]=a.useState([]),[b,L]=a.useState([]),[S,C]=a.useState([]),[P,x]=a.useState([]),[n,W]=a.useState(""),[o,T]=a.useState(""),[p,w]=a.useState(""),[j,f]=a.useState(""),[E,F]=a.useState(!1),[A,I]=a.useState(!0),[V,Y]=a.useState(!1),[G,$]=a.useState(!1),[D,H]=a.useState(!1),[l,B]=a.useState(null),[c,O]=a.useState({}),[h,R]=a.useState(12e3),[m,K]=a.useState(55);a.useEffect(()=>{q(),z()},[]),a.useEffect(()=>{n&&(T(""),w(""),f(""),L([]),C([]),x([]),J(parseInt(n)))},[n]),a.useEffect(()=>{n&&o&&(w(""),f(""),C([]),x([]),Q(parseInt(n),o))},[n,o]),a.useEffect(()=>{n&&o&&p&&(f(""),x([]),X(parseInt(n),o,p))},[n,o,p]);async function q(){I(!0);const s=await te();U(s.sort((i,t)=>t-i)),I(!1)}async function z(){const s=await le();B(s)}async function J(s){Y(!0);const i=await ne(s);L(i),Y(!1)}async function Q(s,i){$(!0);const t=await ce(s,i);C(t),$(!1)}async function X(s,i,t){H(!0);const r=await re(s,i,t);x(r),H(!1)}async function Z(){if(!j){alert("Please select a vehicle configuration");return}F(!0);const s=parseInt(j),i=await oe(s);if(i){const t={id:i.id.toString(),make:i.make,model:i.model,year:i.year,mpgCity:i.city08,mpgHighway:i.highway08,mpgCombined:i.comb08,fuelType:i.fuelType1||i.fuelType,engine:`${i.displ||"N/A"}L ${i.cylinders||"N/A"}-cyl`};d.find(r=>r.id===t.id)?alert("This vehicle is already in your comparison"):k([...d,t])}F(!1)}function _(s){k(d.filter(i=>i.id!==s))}function u(s){const i=s.toLowerCase();return i.includes("electric")||i.includes("electricity")}function y(s){return u(s)?"MPGe":"MPG"}function M(s){const i=(100-m)/100,t=m/100,r=1/(i/s.mpgCity+t/s.mpgHighway);return Math.round(r)}function ee(s){const i=s.toLowerCase();return i.includes("premium")?"premium":i.includes("midgrade")||i.includes("mid-grade")?"midgrade":i.includes("diesel")?"diesel":i.includes("e85")?"e85":i.includes("electric")||i.includes("electricity")?"electric":i.includes("cng")?"cng":i.includes("lpg")?"lpg":"regular"}function g(s){const i=ee(s),t=c[i];return t?parseFloat(t):l?parseFloat(l[i]):0}function se(s){const i=M(s);if(u(s.fuelType)){const t=g(s.fuelType),r=33.7/i*100;return h/100*r*t}else{const t=g(s.fuelType);return h/i*t}}function ie(s){const i=M(s);if(u(s.fuelType)){const t=g(s.fuelType);return 33.7/i*t}else return g(s.fuelType)/i}function N(s,i){O({...c,[s]:i})}function ae(){O({}),R(12e3),K(55)}return e.jsxs("div",{className:"fuel-economy-app",children:[e.jsxs("header",{className:"project-header",children:[e.jsx("h1",{children:"Fuel Economy Comparison Tool"}),e.jsx("p",{className:"project-description",children:"Compare the fuel efficiency of different vehicles using data from public APIs. Select vehicles to see how they stack up in terms of city, highway, and combined MPG."})]}),e.jsxs("main",{className:"comparison-container",children:[l&&e.jsxs("section",{className:"gas-prices-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Gas Prices & Settings"}),e.jsx("button",{onClick:ae,className:"reset-button",children:"Reset to Defaults"})]}),e.jsxs("div",{className:"gas-prices-grid",children:[e.jsxs("div",{className:"price-input-group",children:[e.jsx("label",{children:"Regular Gas"}),e.jsx("input",{type:"number",step:"0.01",placeholder:l.regular,value:c.regular||"",onChange:s=>N("regular",s.target.value),className:"price-input"}),e.jsxs("span",{className:"price-hint",children:["$",c.regular||l.regular,"/gal"]})]}),e.jsxs("div",{className:"price-input-group",children:[e.jsx("label",{children:"Premium Gas"}),e.jsx("input",{type:"number",step:"0.01",placeholder:l.premium,value:c.premium||"",onChange:s=>N("premium",s.target.value),className:"price-input"}),e.jsxs("span",{className:"price-hint",children:["$",c.premium||l.premium,"/gal"]})]}),e.jsxs("div",{className:"price-input-group",children:[e.jsx("label",{children:"Diesel"}),e.jsx("input",{type:"number",step:"0.01",placeholder:l.diesel,value:c.diesel||"",onChange:s=>N("diesel",s.target.value),className:"price-input"}),e.jsxs("span",{className:"price-hint",children:["$",c.diesel||l.diesel,"/gal"]})]}),e.jsxs("div",{className:"price-input-group",children:[e.jsx("label",{children:"Electricity"}),e.jsx("input",{type:"number",step:"0.01",placeholder:l.electric,value:c.electric||"",onChange:s=>N("electric",s.target.value),className:"price-input"}),e.jsxs("span",{className:"price-hint",children:["$",c.electric||l.electric,"/kWh"]})]}),e.jsxs("div",{className:"price-input-group",children:[e.jsx("label",{children:"Annual Miles"}),e.jsx("input",{type:"number",step:"1000",value:h,onChange:s=>R(parseInt(s.target.value)||12e3),className:"price-input"}),e.jsxs("span",{className:"price-hint",children:[h.toLocaleString()," mi/yr"]})]})]}),e.jsxs("div",{className:"driving-mix-section",children:[e.jsx("h3",{children:"Driving Mix"}),e.jsx("p",{className:"driving-mix-description",children:"Adjust the slider to match your typical driving habits. EPA standard is 55% highway, 45% city."}),e.jsxs("div",{className:"slider-container",children:[e.jsxs("div",{className:"slider-labels",children:[e.jsxs("span",{className:"slider-label-left",children:["City: ",100-m,"%"]}),e.jsxs("span",{className:"slider-label-right",children:["Highway: ",m,"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"100",value:m,onChange:s=>K(parseInt(s.target.value)),className:"driving-mix-slider"}),e.jsxs("div",{className:"slider-markers",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"25%"}),e.jsx("span",{children:"50%"}),e.jsx("span",{children:"75%"}),e.jsx("span",{children:"100%"})]})]})]}),e.jsx("p",{className:"gas-prices-note",children:"National average prices shown. Edit any field to use your local prices."})]}),e.jsxs("section",{className:"vehicle-search",children:[e.jsx("h2",{children:"Search for Vehicles"}),e.jsxs("div",{className:"search-interface",children:[e.jsx("p",{children:"Select a vehicle to add to your comparison:"}),e.jsxs("div",{className:"search-controls",children:[e.jsxs("select",{value:n,onChange:s=>W(s.target.value),className:"vehicle-select",disabled:A,children:[e.jsx("option",{value:"",children:A?"Loading years...":"Select Year"}),v==null?void 0:v.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:o,onChange:s=>T(s.target.value),className:"vehicle-select",disabled:!n||V,children:[e.jsx("option",{value:"",children:V?"Loading makes...":"Select Make"}),b==null?void 0:b.map(s=>e.jsx("option",{value:s.value,children:s.text},s.value))]}),e.jsxs("select",{value:p,onChange:s=>w(s.target.value),className:"vehicle-select",disabled:!o||G,children:[e.jsx("option",{value:"",children:G?"Loading models...":"Select Model"}),S==null?void 0:S.map(s=>e.jsx("option",{value:s.value,children:s.text},s.value))]}),e.jsxs("select",{value:j,onChange:s=>f(s.target.value),className:"vehicle-select",disabled:!p||D,children:[e.jsx("option",{value:"",children:D?"Loading configurations...":"Select Configuration"}),P==null?void 0:P.map(s=>e.jsx("option",{value:s.value,children:s.text},s.value))]}),e.jsx("button",{className:"search-button",onClick:Z,disabled:!j||E,children:E?"Adding...":"Add Vehicle"})]})]})]}),d.length>0&&e.jsxs("section",{className:"comparison-results",children:[e.jsx("h2",{children:"Vehicle Comparison"}),e.jsx("div",{className:"comparison-grid",children:d.map(s=>e.jsxs("div",{className:"vehicle-card",children:[e.jsxs("div",{className:"vehicle-card-header",children:[e.jsxs("h3",{children:[s.year," ",s.make," ",s.model]}),e.jsx("button",{className:"remove-button",onClick:()=>_(s.id),title:"Remove vehicle",children:"Ã—"})]}),e.jsxs("div",{className:"mpg-stats",children:[e.jsxs("div",{className:"mpg-stat",children:[e.jsxs("label",{children:["City ",y(s.fuelType),":"]}),e.jsx("span",{children:s.mpgCity})]}),e.jsxs("div",{className:"mpg-stat",children:[e.jsxs("label",{children:["Highway ",y(s.fuelType),":"]}),e.jsx("span",{children:s.mpgHighway})]}),e.jsxs("div",{className:"mpg-stat",children:[e.jsxs("label",{children:["EPA Combined ",y(s.fuelType),":"]}),e.jsx("span",{children:s.mpgCombined})]}),e.jsxs("div",{className:"mpg-stat mpg-stat-custom",children:[e.jsxs("label",{children:["Your Combined ",y(s.fuelType),":"]}),e.jsx("span",{className:"custom-mpg",children:M(s)})]})]}),e.jsxs("div",{className:"vehicle-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Fuel Type:"})," ",s.fuelType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Engine:"})," ",s.engine]})]}),l&&e.jsxs("div",{className:"cost-stats",children:[e.jsxs("div",{className:"cost-stat",children:[e.jsx("label",{children:u(s.fuelType)?"Electricity Price:":"Fuel Price:"}),e.jsxs("span",{children:["$",g(s.fuelType).toFixed(2),u(s.fuelType)?"/kWh":"/gal"]})]}),e.jsxs("div",{className:"cost-stat",children:[e.jsx("label",{children:"Cost per Mile:"}),e.jsxs("span",{children:["$",ie(s).toFixed(3)]})]}),e.jsxs("div",{className:"cost-stat-highlight",children:[e.jsxs("label",{children:["Annual ",u(s.fuelType)?"Electricity":"Fuel"," Cost:"]}),e.jsxs("span",{className:"cost-amount",children:["$",se(s).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),e.jsxs("p",{className:"cost-note",children:["Based on ",h.toLocaleString()," miles/year"]})]})]},s.id))})]}),d.length===0&&e.jsx("section",{className:"empty-state",children:e.jsx("p",{children:"Search for vehicles above to start comparing their fuel economy."})})]})]})}export{he as default};
